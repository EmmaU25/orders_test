<!-- <p>detail works!</p>
<div *ngFor="let item of order">
    <span *ngFor="let iteme of item.items">{{iteme.name}}</span>
</div> -->
<div class="container" *ngFor="let item of order">
    <h2>Details of order {{item.name}}</h2>

    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="item.items">
    
            <ng-container matColumnDef="sku">
                <th mat-header-cell *matHeaderCellDef> Sku </th>
                <td mat-cell *matCellDef="let element"> {{element.sku}} </td>
            </ng-container>
    
            
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>
    
            
            <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef> Quantity </th>
                <td mat-cell *matCellDef="let element"> {{element.quantity}} </td>
            </ng-container>
    
            
            <ng-container matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef> Price </th>
                <td mat-cell *matCellDef="let element"> {{element.price}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>


    <div class="margin-top mat-elevation-z8">
        <mat-accordion multi>
            <!-- <mat-expansion-panel hideToggle>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      This is the expansion title
                    </mat-panel-title>
                    <mat-panel-description>
                      This is a summary of the content
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <p>This is the primary content of the panel.</p>
                </mat-expansion-panel> -->
            <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Add a new item
                    </mat-panel-title>
                    
                </mat-expansion-panel-header>
                <form [formGroup]="formaDetail" (ngSubmit)="submitData()">
                    <h2>Add a new item</h2>
                    <div>
                        <mat-form-field class="full-width-input">
        
                            <mat-label>Sku</mat-label>
                            <input matInput placeholder="example" formControlName="sku" required>
        
                            <mat-error *ngIf="skuIsInvalid">
                                Please provide a valid sku
                            </mat-error>
                        </mat-form-field>
                    </div>
        
                    <div>
                        <mat-form-field class="full-width-input">
        
                            <mat-label>Name</mat-label>
                            <input matInput placeholder="name example" formControlName="name" required>
        
                            <mat-error *ngIf="nameInvalid">
                                Please provide a valid name
                            </mat-error>
        
                        </mat-form-field>
                    </div>
        
                    <div>
                        <mat-form-field class="full-width-input">
        
                            <mat-label>Quantity</mat-label>
                            <input matInput placeholder="123455" type="number"  formControlName="quantity" required>
        
                            <mat-error *ngIf="quantityInvalid">
                                Please provide a quantity
                            </mat-error>
        
                        </mat-form-field>
                    </div>
        
                    <div>
                        <mat-form-field class="full-width-input">
        
                            <mat-label>Price</mat-label>
                            <input matInput placeholder="$50" type="number"  formControlName="price" required>
        
                            <mat-error *ngIf="priceInvalid">
                                Please provide a price
                            </mat-error>
        
                        </mat-form-field>
                    </div>
        
                    <button [disabled]="formaDetail.invalid" mat-raised-button color="primary">Add Item</button>
                </form>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
    

    <!-- <button mat-stroked-button color="primary" (click)="openDialog()">Add a new item</button> -->
</div>